Optimization of clusters
===========================

Theoretical backgrounds
-------------------------

**Optimization of clusters using the genetic algorithm**

See [ga1]_ and [ga2]_.

.. [ga1] G L W Hart, V Blum, M J Walorski and A Zunger, Nat. Mater. 4, 391 (2005).
.. [ga2] V Blum, G L W Hart, M J Walorski and A Zunger, Phys. Rev. B 72, 165113 (2005).

gasa
--------

* Searching for the set of clusters that minimizes the CV score using the genetic algorithm.
* An initial population can be generated using the simulated annealing.
* Multi-thread calculations using OPENMP are available only for the simulated annealing.

**Input files**

* GASA.in
* :ref:`label-e-energy`
* :ref:`label-e-correlation`

**Output files**

* gasa.out

wgasa
--------

* Searching for the set of clusters that minimizes the weighted CV score using the genetic algorithm.

**Input files**

* GASA.in
* :ref:`label-e-energy`
* :ref:`label-e-correlation`
* :ref:`label-e-weight`

**Output files**

* wgasa.out

GASA.in
--------

**Example**

The set of clusters is optimized using the genetic algorithm.
The cluster set is composed of no.0-5 clusters and 5 clusters selected among no.6-52 clusters. ::

    NLOOP       = 0         # only performing genetic algorithm
    BASECLUSTER = 0 1 2 3 4 5
    NPOP        = 25
    NELITE      = 1
    NALLCLUSTER = 53
    MININDEX    = 6
    MAXINDEX    = 52
    NCLUSTER    = 5
    MAXGENE     = 300
    PMATING     = 0.9
    PMUTATION   = 0.03

The initial population is generated by simulated annealing and the set of clusters is optimized using the genetic algorithm.
The cluster set is composed of no.0-5 clusters and 5 clusters selected among no.6-52 clusters. ::

    NLOOP       = 100
    TEMPINIT    = 1
    TEMPFINAL   = 0.001
    TEMPMUL     = 0.9
    BASECLUSTER = 0 1 2 3 4 5
    NPOP        = 25
    NELITE      = 1
    NALLCLUSTER = 53
    MININDEX    = 6
    MAXINDEX    = 52
    NCLUSTER    = 5
    MAXGENE     = 300
    PMATING     = 0.9
    PMUTATION   = 0.03

NALLCLUSTER tag
""""""""""""""""""""""
Number of all clusters included in CORRELATION file.

* Default : none
* Example : NALLCLUSTER = 53

NCLUSTER tag
""""""""""""""""""""""
Number of clusters for selection.

* Default : none
* Example : NCLUSTER = 5

MININDEX tag, MAXINDEX tag
"""""""""""""""""""""""""""""""
Minimum and maximum cluster index for the optimization.

* Default : MININDEX = 0, MAXINDEX = NALLCLUSTER - 1
* Example : MININDEX = 5
* Example : MAXINDEX = 52

BASECLUSTER tag
""""""""""""""""""""""
Cluster indexes included for ECI evaluation.

* Default : empty
* Example : BASECLUSTER = 0 1 2 3 4 5

EXCLUSTER tag
""""""""""""""""""""""
Cluster indexes excluded for the optimization.

* Default : empty
* Example : EXCLUSTER = 15 23 34

NPOP tag
""""""""""""""""""""""
Number of cluster sets included in the population.

* Default : 30
* Example : NPOP = 25

NELITE tag
""""""""""""""""""""""
Number of elites (good cluster sets) kept for the next optimization step.

* Default : 1
* Example : NELITE = 5

PMATING tag
""""""""""""""""""""""
Probability of mating.

* Default : 0.9
* Example : PMATING = 0.95

PMUTATION tag
""""""""""""""""""""""
Probability of mutation.

* Default : 0.03
* Example : PMUTATION = 0.05

NLOOP tag
""""""""""""""""""""""

Number of steps for simulated annealing at one temperature.
If you perform only the genetic algorithm, set NLOOP = 0.

* Default : 0
* Example : NLOOP = 100

TEMPINIT tag, TEMPFINAL tag
"""""""""""""""""""""""""""""
Initial and final temperatures in the simulated annealing.

* Default : none
* Example : TEMPINIT = 1
* Example : TEMPFINAL = 0.001

TEMPMUL tag
""""""""""""""""""""""
Exponential base used in an automatic setting of temperatures in the simulated annealing.
Set values ranged from 0 to 1.

* Default : none
* Example : TEMPMUL = 0.9

